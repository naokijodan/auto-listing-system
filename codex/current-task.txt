## タスク: 2ファイルのPrisma compound key修正

### ファイル1: apps/api/src/routes/products.ts (line 1051付近)

findUnique + 不正な複合キー を findFirst に変更する。

修正前:
```typescript
const existingListing = await prisma.listing.findUnique({
  where: {
    productId_marketplace: {
      productId: product.id,
      marketplace: marketplace as any,
    },
  },
});
```

修正後:
```typescript
const existingListing = await prisma.listing.findFirst({
  where: {
    productId: product.id,
    marketplace: marketplace as any,
  },
});
```

### ファイル2: apps/worker/src/lib/shopify-publish-service.ts

2箇所の `productId_marketplace` + `as any` を findFirst + update by id に変更。

修正箇所1 (150行目付近):
修正前:
```typescript
await prisma.listing.update({
  where: { productId_marketplace: { productId: product.id, marketplace: 'SHOPIFY' } } as any,
  data: { status: 'PUBLISHING' },
});
```
修正後:
```typescript
const listingToPublish = await prisma.listing.findFirst({
  where: { productId: product.id, marketplace: 'SHOPIFY' },
});
if (listingToPublish) {
  await prisma.listing.update({
    where: { id: listingToPublish.id },
    data: { status: 'PUBLISHING' },
  });
}
```

修正箇所2 (244行目付近、catchブロック内):
修正前:
```typescript
await prisma.listing.update({
  where: { productId_marketplace: { productId: product.id, marketplace: 'SHOPIFY' } } as any,
  data: { status: 'ERROR', errorMessage: error.message },
});
```
修正後:
```typescript
const listingToError = await prisma.listing.findFirst({
  where: { productId: product.id, marketplace: 'SHOPIFY' },
});
if (listingToError) {
  await prisma.listing.update({
    where: { id: listingToError.id },
    data: { status: 'ERROR', errorMessage: error.message },
  });
}
```

### 注意事項
- これ以外のコードは変更しない
- `as any` ハックは削除する

### 動作確認
```bash
cd ~/Desktop/rakuda && npx tsc --noEmit -p apps/worker/tsconfig.json && npx tsc --noEmit -p apps/api/tsconfig.json
```
